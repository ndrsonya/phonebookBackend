{"version":3,"sources":["PersonForm.js","PersonsComponent.js","Filter.js","services/personService.js","Notification.js","index.js"],"names":["PersonForm","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Persons","persons","filterWord","filter","p","name","toLowerCase","includes","map","person","key","id","onClick","deleteUserr","Filter","handleFilterChange","baseUrl","axios","get","then","response","data","newObject","post","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","personService","console","log","event","target","preventDefault","length","number","returnedPerson","concat","setTimeout","catch","error","alert","window","confirm","delete","deleteUser","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1b2a0869.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n      <div>\n        <h2>add a new</h2>\n        <form onSubmit={props.addPerson}>\n          <div>\n            name:\n            <input\n              value={props.newName}\n              onChange={props.handleNameChange}\n            />\n  \n          </div>\n          <div>number:\n            <input\n              value={props.newNumber}\n              onChange={props.handleNumberChange}\n            />\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n      </div>\n    )\n  }\n\n  export default PersonForm;\n\n  ","import React from 'react';\n\nconst Persons = (props) => {\n    const persons = props.persons;\n    const filterWord = props.filterWord;\n\n\n\n    return (\n        <div>\n            <ul>\n                {\n                    persons.filter(p => p.name.toLowerCase().includes(filterWord.toLowerCase()))\n                        .map(person =>\n                            <li key={person.id}>\n                                {person.name} <button onClick={() => props.deleteUserr(person.id, person.name)}>delete</button></li>\n                    )\n                }\n\n\n            </ul>\n        </div >\n    )\n}\n\nexport default Persons;\n","import React from 'react';\n\nconst Filter = (props) => {\n    return (\n      <div>  \n          filter shown with:\n            <input\n              value={props.filterWord}\n              onChange={props.handleFilterChange}\n            />\n      </div>\n    )\n  }\n\n  export default Filter;","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport  const deleteUser = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {\n    getAll: getAll,\n    create: create,\n}","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport PersonForm from './PersonForm'\nimport Persons from './PersonsComponent'\nimport Filter from './Filter'\nimport personService, { deleteUser } from './services/personService'\nimport './index.css'\nimport Notification from './Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filterWord, setFilter] = useState('');\n  const [message, setMessage] = useState(null)\n\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        console.log(response)\n        setPersons(response)\n      })\n  }, [])\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value);\n    setFilter(event.target.value);\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const sameName = persons.filter(person => person.name === newName);\n\n    if (sameName.length == 0) {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      };\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('');\n          setNewNumber('');\n          setMessage(\n            `Added ${returnedPerson.name}`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setMessage(error.response.data.error)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    } else {\n      alert(`${newName} is already added to phonebook`)\n      setNewName('');\n    }\n\n  }\n\n  const deleteUserr = (id, name) => {\n    const userConfirmation = window.confirm(`Delete ${name}?`)\n    if (userConfirmation) {\n      deleteUser(id)\n      personService.getAll().then(response => {\n        setPersons(response)\n      })\n    }\n\n  }\n\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter filterWord={filterWord} handleFilterChange={handleFilterChange} />\n      <PersonForm\n        addPerson={addPerson} newName={newName} newNumber={newNumber}\n        handleNumberChange={handleNumberChange} handleNameChange={handleNameChange} />\n      <h2>Numbers</h2>\n      {\n        persons.length > 0 ? <Persons persons={persons} filterWord={filterWord} deleteUserr={deleteUserr} />\n          :\n          <div></div>\n      }\n\n    </div>\n  )\n}\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}